# detsad
Учебный проект

## Зависимости
* docker
* docker compose
* openssl

## Настройка



## Установка

Удовлетворить зависимости

Развернуть исходный код:
`git clone https://github.com/0x131315/detsad.git`

Выполнить настройку

Выполнить инициализацию:
`make init`

Далее процесс автоматизирован:
* docker прочитает конфиг окружения из docker-compose.yml
* docker скачает, развернет и запустит nginx, php-fpm, mysql
* mysql создаст нового пользователя и новую БД для него
* composer установит необходимые программные библиотеки
* openssl сгенерирует ssl-ключи для api
* миграции воспроизведут требуемую схему БД
* фикстуры наполнят БД демонстрационными данными

## Документация на api

Документация доступна по пути /api, там приводятся схемы данных и полные описания к методам api. Также доступна 
возможность протестировать api прямо из документации.

Доступ к большинству методов прикрыт системой авторизации

### Авторизация

Для авторизации необходимо в метод /api/login передать логин и пароль, в ответе придет token доступа

Далее необходимо кликнуть по кнопке Authorize в верхнем правом углу, и ввести в поле слово "Bearer " и token 
авторизации: `Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1`

Далее подтверждаем ввод кнопкой Authorize

С этого момента и до перезагрузки страницы все последующие запросы будут выполнены из-под авторизованного пользователя